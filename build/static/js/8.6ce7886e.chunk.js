(this.webpackJsonpopen_capsule=this.webpackJsonpopen_capsule||[]).push([[8],{1013:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(21),o=n.n(r),c=n(44),i=n(265),s=n(30),l=n(0),u=n(942),d=n(947),p=n(1012),m=n(949),f=n(1),b=n(6),j=(n(5),n(8)),g=n(25),x=n(14);var O=l.createContext({}),h=l.forwardRef((function(e,t){var n=e.align,a=void 0===n?"left":n,r=e.classes,o=e.className,c=Object(b.a)(e,["align","classes","className"]);return l.createElement(O.Provider,{value:{align:a}},l.createElement("ul",Object(f.a)({className:Object(j.a)(r.root,r["align".concat(Object(g.a)(a))],o),ref:t},c)))})),v=Object(x.a)((function(){return{root:{display:"flex",flexDirection:"column",padding:"6px 16px",flexGrow:1},alignLeft:{},alignRight:{},alignAlternate:{}}}),{name:"MuiTimeline"})(h),C=n(948),y=n(176);var w=l.createContext({}),N=l.forwardRef((function(e,t){var n=e.classes,a=e.className,r=Object(b.a)(e,["classes","className"]),o=l.useContext(O).align,c=void 0===o?"left":o,i=!1;return l.Children.forEach(e.children,(function(e){Object(y.a)(e,["TimelineOppositeContent"])&&(i=!0)})),l.createElement(w.Provider,{value:{classes:{content:n.content,oppositeContent:n.oppositeContent}}},l.createElement("li",Object(f.a)({className:Object(j.a)(n.root,n["align".concat(Object(g.a)(c))],a,!i&&n.missingOppositeContent),ref:t},r)))})),k=Object(x.a)((function(){return{root:{listStyle:"none",display:"flex",position:"relative",minHeight:70},alignLeft:{},alignRight:{flexDirection:"row-reverse"},alignAlternate:{"&:nth-child(even)":{flexDirection:"row-reverse","& $content":{textAlign:"right"},"& $oppositeContent":{textAlign:"left"}}},missingOppositeContent:{"&:before":{content:'""',flex:1,padding:"6px 16px"}},content:{},oppositeContent:{}}}),{name:"MuiTimelineItem"})(N),S=l.forwardRef((function(e,t){var n=e.classes,a=e.className,r=Object(b.a)(e,["classes","className"]);return l.createElement("div",Object(f.a)({className:Object(j.a)(n.root,a),ref:t},r))})),R=Object(x.a)((function(){return{root:{display:"flex",flexDirection:"column",flex:0,alignItems:"center"}}}),{name:"MuiTimelineSeparator"})(S),_=l.forwardRef((function(e,t){var n=e.classes,a=e.className,r=Object(b.a)(e,["classes","className"]);return l.createElement("span",Object(f.a)({className:Object(j.a)(n.root,a),ref:t},r))})),T=Object(x.a)((function(e){return{root:{width:2,backgroundColor:e.palette.grey[400],flexGrow:1}}}),{name:"MuiTimelineConnector"})(_),D=l.forwardRef((function(e,t){var n=e.classes,a=e.className,r=Object(b.a)(e,["classes","className"]),o=l.useContext(O).align,c=void 0===o?"left":o,i=l.useContext(w).classes,s=void 0===i?{}:i;return l.createElement("div",Object(f.a)({className:Object(j.a)(n.root,s.content,n["align".concat(Object(g.a)(c))],a),ref:t},r))})),M=Object(x.a)((function(){return{root:{flex:1,padding:"6px 16px"},alignRight:{textAlign:"right"}}}),{name:"MuiTimelineContent"})(D),E=l.forwardRef((function(e,t){var n=e.classes,a=e.className,r=e.color,o=void 0===r?"grey":r,c=e.variant,i=void 0===c?"default":c,s=Object(b.a)(e,["classes","className","color","variant"]);return l.createElement("span",Object(f.a)({className:Object(j.a)(n.root,a,"inherit"!==o&&n["".concat(i).concat(Object(g.a)(o))]),ref:t},s))})),A=Object(x.a)((function(e){return{root:{display:"flex",alignSelf:"baseline",borderStyle:"solid",borderWidth:2,padding:4,borderRadius:"50%",boxShadow:e.shadows[2],marginTop:8,marginBottom:8},defaultGrey:{borderColor:"transparent",color:e.palette.grey[50],backgroundColor:e.palette.grey[400]},outlinedGrey:{boxShadow:"none",color:e.palette.grey.contrastText,borderColor:e.palette.grey[400],backgroundColor:"transparent"},defaultPrimary:{borderColor:"transparent",color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main},outlinedPrimary:{boxShadow:"none",backgroundColor:"transparent",borderColor:e.palette.primary.main},defaultSecondary:{borderColor:"transparent",color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main},outlinedSecondary:{boxShadow:"none",backgroundColor:"transparent",borderColor:e.palette.secondary.main}}}),{name:"MuiTimelineDot"})(E),P=l.forwardRef((function(e,t){var n=e.classes,a=e.className,r=Object(b.a)(e,["classes","className"]),o=l.useContext(O).align,c=void 0===o?"left":o,i=l.useContext(w).classes,s=void 0===i?{}:i;return l.createElement("div",Object(f.a)({className:Object(j.a)(n.root,s.oppositeContent,n["align".concat(Object(g.a)(c))],a),ref:t},r))}));P.muiName="TimelineOppositeContent";var G=Object(x.a)((function(){return{root:{padding:"6px 16px",marginRight:"auto",textAlign:"right",flex:1},alignRight:{textAlign:"left"}}}),{name:"MuiTimelineOppositeContent"})(P),z=Object(u.a)((function(e){return{oppositeContent:{flex:.1,content:""}}}));function B(e){var t=e.historyData,n=z();return Object(a.jsx)("div",{children:t?t.map((function(e){return t[t.length-1]===e?Object(a.jsxs)(k,{children:[Object(a.jsx)(G,{className:n.oppositeContent,color:"textSecondary",children:e.time}),Object(a.jsx)(R,{children:Object(a.jsx)(A,{variant:"outlined",color:"primary"})}),Object(a.jsx)(M,{children:e.company_name+" holds "+e.product_name+" from "+e.unit_start+" from "+e.unit_end})]},e.time):Object(a.jsxs)(k,{children:[Object(a.jsx)(G,{className:n.oppositeContent,color:"textSecondary",children:e.time}),Object(a.jsxs)(R,{children:[Object(a.jsx)(A,{variant:"outlined",color:"primary"}),Object(a.jsx)(T,{})]}),Object(a.jsx)(M,{children:e.company_name+" holds "+e.product_name+" from "+e.unit_start+" to "+e.unit_end})]},e.time)})):null})}var H=n(971),I=Object(u.a)((function(e){return{root:{display:"flex",flexDirection:"column",padding:e.spacing(4),marginBottom:e.spacing(4)},container:{display:"flex",flexDirection:"row",paddingTop:e.spacing(2),paddingRight:e.spacing(4),paddingBottom:e.spacing(4),flexWrap:"wrap"},xtraMargin:{marginRight:e.spacing(1)}}})),J={productCode:""};t.default=function(){var e=I(),t=Object(l.useState)(J),n=Object(s.a)(t,2),r=n[0],u=n[1],f=Object(l.useState)(!1),b=Object(s.a)(f,2),j=b[0],g=b[1],x=Object(l.useState)([]),O=Object(s.a)(x,2),h=O[0],y=O[1],w=function(){var e=Object(c.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!1),g(!0),e.next=4,Object(H.a)(r.productCode);case 4:n=e.sent,y(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:e.root,children:Object(a.jsxs)(d.a,{className:e.root,variant:"outlined",children:[Object(a.jsx)(C.a,{color:"textSecondary",variant:"h6",children:"Analytics"}),Object(a.jsxs)("div",{className:e.container,children:[Object(a.jsx)(p.a,{className:e.xtraMargin,label:"Product Code",id:"outlined-size-small",value:r.productCode,onChange:function(e){var t=e.target,n=t.name,a=t.value;u(Object(i.a)({},n,a))},name:"productCode",variant:"outlined",size:"small"}),Object(a.jsx)(m.a,{variant:"outlined",size:"medium",color:"primary",onClick:function(){return w(r.productCode)},children:"TRACK"})]}),Object(a.jsx)("div",{children:j?Object(a.jsx)(v,{align:"left",children:Object(a.jsx)(B,{historyData:h})}):null})]})})}},971:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var a=n(21),r=n.n(a),o=n(44),c=n(73),i=n.n(c),s=function(){var e=Object(o.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get("https://opencaps-backend.herokuapp.com/history",{params:{product_code:t}});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a,o,c){var s,l,u,d,p,m,f,b;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=new Date,l=("0"+s.getDate()).slice(-2),u=("0"+(s.getMonth()+1)).slice(-2),d=s.getFullYear(),p=s.getHours(),m=s.getMinutes(),f=s.getSeconds(),b=d+"-"+u+"-"+l+" "+p+":"+m+":"+f;try{i.a.post("https://opencaps-backend.herokuapp.com/history",{time:b,product_name:t,product_code:n,company_name:a,unit_start:o,unit_end:c})}catch(r){console.log(r)}case 9:case"end":return e.stop()}}),e)})));return function(t,n,a,r,o){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=8.6ce7886e.chunk.js.map