{"version":3,"sources":["helpers/unitSorter.js","components/marketplace/PurchaseForm.js","components/marketplace/CardMarketProducts.js","components/marketplace/MarketPlace.js","services/trackingService.js","services/participantService.js","helpers/hashGenerator.js","web3/openCapsuleContract.js","web3/abis/openCapsuleMainABI.js","../node_modules/@material-ui/core/esm/Card/Card.js","../node_modules/@material-ui/core/esm/CardContent/CardContent.js"],"names":["unitSorter","quantityNeededBuyer","unitEndSeller","newUnitEndofSeller","unitStartBuyer","unitEndBuyer","useStyles","makeStyles","theme","newUnit","display","flexDirection","justifyContent","marginTop","spacing","xtraMargin","marginRight","initialValues","handleTransaction","props","addressOfBuyer","a","Number","unit_end","getParticipant","buyerDetails","createProduct","companyName","product_code","product_name","price","updateProducts","_id","updateInventory","editInventory","company_address","PurchaseForm","classes","useState","formInput","setFormInput","useContext","AddressContext","className","TextField","label","value","quantity","onChange","event","target","name","variant","size","Button","color","onClick","root","marginLeft","maxWidth","minWidth","extraPadding","paddingTop","content","CardMarketProducts","marketData","MarketContext","Fragment","map","prod","Card","CardContent","Typography","company_name","unit_start","hash_details","CircularProgress","React","memo","padding","container","flexWrap","MarketPlace","Paper","fetchHistory","productCode","productId","axios","get","params","response","data","console","error","postHistory","date_ob","Date","date","getDate","slice","month","getMonth","year","getFullYear","hours","getHours","minutes","getMinutes","seconds","getSeconds","time","post","log","fetchParticipants","postParticipants","wallet_address","role","phone","email","address","country","state","hashGenerator","data_as_array","crypto","require","hash","createHash","update","JSON","stringify","digest","openCapsuleContract","Web3","givenProvider","eth","Contract","events","participantCreated","addresss","methods","participants","call","_err","res","alert","message","createParticipant","currentAddress","walletAdress","hashDetails","send","from","err","code","productName","unitStart","unitEnd","postProducts","ref","_props$raised","raised","other","_objectWithoutProperties","_extends","clsx","elevation","withStyles","overflow","_props$component","component","Component","paddingBottom"],"mappings":"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","file":"static/js/6.ddd10774.chunk.js","sourcesContent":["export const unitSorter = (quantityNeededBuyer, unitEndSeller) => {\n    let newUnitEndofSeller = unitEndSeller - quantityNeededBuyer\n    let unitStartBuyer = newUnitEndofSeller + 1\n    let unitEndBuyer = unitEndSeller\n\n    return({newUnitEndofSeller, unitStartBuyer, unitEndBuyer})\n}","import { React, useState, useContext } from 'react'\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { unitSorter } from '../../helpers/unitSorter'\nimport { getParticipant } from '../../web3/openCapsuleContract'\nimport { createProduct } from '../../web3/openCapsuleContract'\nimport { updateProducts } from '../../services/productService'\nimport { updateInventory, editInventory } from '../../services/dashboardService';\n\nimport { AddressContext } from '../sidebar/Sidebar'\n\nconst useStyles = makeStyles((theme) => ({\n    newUnit: {\n      display: 'flex',\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      marginTop: theme.spacing(1),\n    },\n    xtraMargin: {\n        marginRight: theme.spacing(1),\n    }\n  }));\n\nconst initialValues = {\n    quantity: \"\",\n};\n\nconst handleTransaction = async(quantityNeededBuyer, props, addressOfBuyer) => {\n    let {newUnitEndofSeller, unitStartBuyer, unitEndBuyer} = await unitSorter(Number(quantityNeededBuyer), props.unit_end)\n    let buyerDetails = await getParticipant(addressOfBuyer)\n    createProduct(addressOfBuyer, buyerDetails.companyName, props.product_code, props.product_name, props.price, unitStartBuyer, unitEndBuyer);\n        //console.log(addressOfBuyer, props.product_name, quantityNeededBuyer, props.company_address, newUnitEndofSeller)\n        updateProducts(props._id, newUnitEndofSeller)\n        updateInventory(addressOfBuyer, props.product_name, quantityNeededBuyer)\n        editInventory(props.company_address, props.product_name, newUnitEndofSeller)\n}\n\nexport default function PurchaseForm(props) {\n    const classes = useStyles();\n\n    const [formInput, setFormInput] = useState(initialValues.quantity);\n\n    const addressOfBuyer = useContext(AddressContext)\n\n    const handleFormChange = (event) => {\n\n        const { name, value } = event.target;\n        setFormInput({...formInput, [name]: value,});\n    \n    };\n  \n    return (\n        <div className={classes.newUnit}>\n            <TextField className={classes.xtraMargin}\n            label=\"Quantity\"\n            value={formInput.quantity}\n            onChange={handleFormChange}\n            name=\"quantity\"\n            variant=\"outlined\"\n            size=\"small\" \n            />\n            \n            <Button \n            variant=\"outlined\"\n            size=\"medium\"\n            color=\"primary\"\n            //className={classes.margin}\n            onClick={() => handleTransaction(formInput.quantity, props.props, addressOfBuyer)}\n            >\n            BUY\n            </Button> \n        </div>\n     );\n  }\n  ","import React,{ useContext } from 'react'\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport PurchaseForm from './PurchaseForm'\nimport { MarketContext } from '../sidebar/Sidebar'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginLeft: theme.spacing(4),\n    marginTop: theme.spacing(4),\n    maxWidth: '340px',\n    minWidth: '340px',\n  },\n  newUnit: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginTop: theme.spacing(1),\n  },\n  extraPadding: {\n    paddingTop: theme.spacing(4),\n  },\n  content: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n  },\n  \n}));\n\nfunction CardMarketProducts() {\n  const classes = useStyles();\n  const marketData = useContext(MarketContext)\n\n  return(\n      <React.Fragment>\n          {marketData? marketData.map(prod => {\n              \n              return <div key={prod._id}>\n                <Card className={classes.root} variant=\"outlined\">\n            \n                 <CardContent className={classes.content}>\n                   <Typography variant=\"h6\" color=\"textPrimary\">\n                     {prod.product_name}\n                   </Typography>\n                   <Typography variant=\"caption\" color=\"textSecondary\">\n                     Product code: <Typography variant=\"caption\" color=\"textPrimary\">{prod.product_code}</Typography>\n                   </Typography>\n                   <Typography variant=\"body2\" color=\"textPrimary\">\n                     {prod.company_name}\n                   </Typography>\n                   <Typography variant=\"caption\" color=\"textSecondary\">\n                     {prod.company_address}\n                   </Typography>\n                   <Typography variant=\"caption\" color=\"textSecondary\">\n                     Price : <Typography variant=\"caption\" color=\"textPrimary\">{prod.price}</Typography>\n                   </Typography>\n                   <Typography variant=\"caption\" color=\"textSecondary\">\n                     Units: <Typography variant=\"caption\" color=\"textPrimary\">{prod.unit_start}</Typography> to <Typography variant=\"caption\" color=\"textPrimary\">{prod.unit_end}</Typography>\n                   </Typography>\n                   <Typography variant=\"caption\" color=\"textSecondary\">\n                     Hash Details: {prod.hash_details}\n                   </Typography>\n                   <div className={classes.newUnit} >\n                     <PurchaseForm props={prod}/>\n                   </div>\n                 </CardContent>\n         </Card>\n       </div> \n          }): <CircularProgress />}\n      </React.Fragment>\n  )  \n}\n\nexport default React.memo(CardMarketProducts)\n\n","import { React } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\n\nimport CardMarketProducts from './CardMarketProducts'\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n        flexDirection: 'column',\n        padding: theme.spacing(4),\n    },\n    container: {\n        display: 'flex',\n        flexDirection: 'row',\n        marginTop: theme.spacing(-2),\n        marginLeft: theme.spacing(-4),\n        flexWrap: 'wrap',\n    },\n}));\n\nfunction MarketPlace() {\n\n    const classes = useStyles();\n\n    return (\n        <div className={classes.root}>\n            <Paper className={classes.root} variant=\"outlined\">\n                <Typography color=\"textSecondary\" variant=\"h6\" >Marketplace</Typography>\n                <div className={classes.container}>\n                    <CardMarketProducts />\n                </div>\n            </Paper>\n        </div>\n    )\n}\n\nexport default MarketPlace\n\n","import axios from  'axios'\n\nconst fetchHistory = async(productCode, productId) => {\n    try {\n        //console.log(\"Tracking Service\", productCode, productId)\n        const response = await axios.get('https://opencaps-backend.herokuapp.com/history', {params: {product_code: productCode}});\n        //console.log(\"Response\", response);\n        return response.data;\n    } catch(error) {\n        console.error(error);\n    }\n}\n\nconst postHistory = async(product_name, product_code, company_name, unit_start, unit_end) => {\n    let date_ob = new Date();\n    // current date\n    // adjust 0 before single digit date\n    let date = (\"0\" + date_ob.getDate()).slice(-2);\n    // current month\n    let month = (\"0\" + (date_ob.getMonth() + 1)).slice(-2);\n    // current year\n    let year = date_ob.getFullYear();\n    // current hours\n    let hours = date_ob.getHours();\n    // current minutes\n    let minutes = date_ob.getMinutes();\n    // current seconds\n    let seconds = date_ob.getSeconds();\n    // prints date in YYYY-MM-DD format\n    //console.log(year + \"-\" + month + \"-\" + date);\n    // prints date & time in YYYY-MM-DD HH:MM:SS format\n    let time = year + \"-\" + month + \"-\" + date + \" \" + hours + \":\" + minutes + \":\" + seconds;\n    \n    try {\n        axios.post('https://opencaps-backend.herokuapp.com/history', {\n            time: time,\n            product_name: product_name,\n            product_code: product_code,\n            company_name: company_name,\n            unit_start: unit_start,\n            unit_end: unit_end,\n        })\n    } catch(error) {\n        console.log(error)\n    }\n}\n\nexport { fetchHistory, postHistory }","import axios from  'axios'\n//import useState from 'react'\n\n// function handleChange() {\n//     const [companycount, setCompanyCount] = useState(true);\n// }\n\n// const handleChange = () => {\n//     setCompanyCount(!companycount);\n// }\n\nconst fetchParticipants = async() => {\n    try {\n        const response = await axios.get('https://opencaps-backend.herokuapp.com/participants/');\n        //console.log(response.data);\n        return response.data;\n    } catch(error) {\n        console.error(error);\n    }\n}\n\nconst postParticipants = async(company_name, wallet_address, role, phone, email, address, country, state, hash_details) => {\n    try {\n        axios.post('https://opencaps-backend.herokuapp.com/participants/', {\n            company_name: company_name, \n            wallet_address: wallet_address, \n            role: role,\n            phone: phone,\n            email: email, \n            address: address, \n            country: country, \n            state: state,\n            hash_details: hash_details,\n        })\n    } catch(error) {\n        console.error(error);\n    }\n}\n\n//console.log(fetchParticipants((err, res) => {return res.PromisResult}));\n//console.log(fetchParticipants().then(console.log));\nexport { fetchParticipants, postParticipants };","export const hashGenerator = async(data_as_array) => {\n    \n    let crypto = require('crypto');\n    const hash = crypto.createHash('md5').update(JSON.stringify(data_as_array)).digest('hex');\n    //test\n    //console.log(hash);\n    return hash;\n\n}","import Web3 from 'web3'\n//import { openCapsuleABI } from './abis/openCapsuleABI'\nimport { openCapsuleMainABI } from './abis/openCapsuleMainABI'\nimport { hashGenerator } from '../helpers/hashGenerator'\nimport { postParticipants } from '../services/participantService'\nimport { postProducts } from '../services/productService'\nimport { postHistory } from '../services/trackingService'\n\nconst web3 = new Web3(Web3.givenProvider);\n\n//const contractAddr = '0x844198a75f1c1fef943f12ca6041e59063a435fc';\nconst contractAddr2 = '0xeaf82f69c58189de98efe5b2aeb0ba8c688e72d8';\nconst openCapsuleContract = new web3.eth.Contract(openCapsuleMainABI, contractAddr2);\n\n//Event manager\nopenCapsuleContract.events.participantCreated({}, (error, event) => {\n    console.log(event);\n    console.log(\"It came from here\")\n})\n\n//Get all previous participantCreated events from contract (history)\n// openCapsuleContract.getPastEvents('participantCreated', {\n//     fromBlock: 0,\n//     toBlock: 'latest'\n// }, (error, event) => {\n//     console.log(event);\n//     console.log(\"It came from getPastEvents\")\n// })\n\n//Get all events inside OpenCapsule contract\nconst getEvent = async()  => {\n    const events = await openCapsuleContract.events;\n    console.log(events);\n}\n\n//Get admin/creator of smart contract\nconst getAdmin = () => {\n    try{\n            openCapsuleContract.methods.admin().call((_err, res) => \n            {\n                console.log(res);\n                return res;\n            });\n        }\n    catch (err) {\n        console.log(err);\n        alert(err.message);\n    }\n}\n\n//Get participant according to address argument given (currenty hardcoded)\nconst getParticipant = async(addresss) => {\n    try{\n        return openCapsuleContract.methods.participants(addresss).call((_err, res) => \n            {\n                //console.log(res);\n                return res;\n            });\n    }\n    catch (err) {\n        console.log(err);\n        alert(\"yep\" + err.message)\n    }\n}\n\n//Create participant function\nconst createParticipant = async(currentAddress, companyName, walletAdress, role, phone, email, address, country, state) => {\n\n    const hashDetails = await(hashGenerator([phone, email, address, country, state]));\n\n    //const gas = await openCapsuleContract.methods.createParticipant(companyName, walletAdress, role, hashDetails).estimateGas();\n    //console.log(gas);\n    try{\n        openCapsuleContract.methods.createParticipant(companyName, walletAdress, role, hashDetails).send({\n            from: currentAddress,\n        }, (err, res) => {\n            //console.log(res);\n            postParticipants(companyName, walletAdress, role, phone, email, address, country, state, hashDetails);\n            return(res);\n        });\n    }\n    catch(err){\n        console.log(err.code)\n        alert(err.message)\n    }\n}\n\n//Create product\nconst createProduct = async(currentAddress, companyName, productCode, productName, price, unitStart, unitEnd) => {\n    const hashDetails = await(hashGenerator([currentAddress, companyName, productCode, productName, price, unitStart, unitEnd]));\n    //console.log(hashDetails)\n\n    try{\n        openCapsuleContract.methods.createProduct(productCode, productName, price, unitStart, unitEnd, hashDetails).send({\n            from: currentAddress,\n        }, (err, res) => {\n            postProducts(currentAddress, companyName, productCode, productName, price, unitStart, unitEnd, hashDetails)\n            postHistory(productName, productCode, companyName, unitStart, unitEnd)\n            console.log(res);\n            return(res);\n        });\n    }\n    catch(err){\n        //console.log(err.code)\n        alert(\"From createProuct : \" + err.message)\n    }\n}\n\nexport { getAdmin, getEvent, getParticipant, createParticipant, createProduct };\n","export const openCapsuleMainABI = [\n    {\n        \"inputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"constructor\"\n    },\n    {\n        \"anonymous\": false,\n        \"inputs\": [\n            {\n                \"indexed\": false,\n                \"internalType\": \"string\",\n                \"name\": \"companyName\",\n                \"type\": \"string\"\n            },\n            {\n                \"indexed\": false,\n                \"internalType\": \"address payable\",\n                \"name\": \"companyAddress\",\n                \"type\": \"address\"\n            },\n            {\n                \"indexed\": false,\n                \"internalType\": \"string\",\n                \"name\": \"role\",\n                \"type\": \"string\"\n            },\n            {\n                \"indexed\": false,\n                \"internalType\": \"string\",\n                \"name\": \"hashDetails\",\n                \"type\": \"string\"\n            }\n        ],\n        \"name\": \"participantCreated\",\n        \"type\": \"event\"\n    },\n    {\n        \"anonymous\": false,\n        \"inputs\": [\n            {\n                \"indexed\": false,\n                \"internalType\": \"uint256\",\n                \"name\": \"productCode\",\n                \"type\": \"uint256\"\n            },\n            {\n                \"indexed\": false,\n                \"internalType\": \"uint256\",\n                \"name\": \"start\",\n                \"type\": \"uint256\"\n            },\n            {\n                \"indexed\": false,\n                \"internalType\": \"uint256\",\n                \"name\": \"end\",\n                \"type\": \"uint256\"\n            },\n            {\n                \"indexed\": false,\n                \"internalType\": \"address\",\n                \"name\": \"buyer\",\n                \"type\": \"address\"\n            }\n        ],\n        \"name\": \"productBought\",\n        \"type\": \"event\"\n    },\n    {\n        \"anonymous\": false,\n        \"inputs\": [\n            {\n                \"indexed\": false,\n                \"internalType\": \"uint256\",\n                \"name\": \"productCode\",\n                \"type\": \"uint256\"\n            },\n            {\n                \"indexed\": false,\n                \"internalType\": \"string\",\n                \"name\": \"productName\",\n                \"type\": \"string\"\n            },\n            {\n                \"indexed\": false,\n                \"internalType\": \"uint256\",\n                \"name\": \"price\",\n                \"type\": \"uint256\"\n            },\n            {\n                \"indexed\": false,\n                \"internalType\": \"string\",\n                \"name\": \"hashDetails\",\n                \"type\": \"string\"\n            },\n            {\n                \"indexed\": false,\n                \"internalType\": \"address payable\",\n                \"name\": \"owner\",\n                \"type\": \"address\"\n            }\n        ],\n        \"name\": \"productCreated\",\n        \"type\": \"event\"\n    },\n    {\n        \"inputs\": [],\n        \"name\": \"admin\",\n        \"outputs\": [\n            {\n                \"internalType\": \"address\",\n                \"name\": \"\",\n                \"type\": \"address\"\n            }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"address payable\",\n                \"name\": \"_seller\",\n                \"type\": \"address\"\n            },\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"_productCode\",\n                \"type\": \"uint256\"\n            },\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"_start\",\n                \"type\": \"uint256\"\n            },\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"_end\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"name\": \"buyProduct\",\n        \"outputs\": [],\n        \"stateMutability\": \"payable\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"string\",\n                \"name\": \"_companyName\",\n                \"type\": \"string\"\n            },\n            {\n                \"internalType\": \"address payable\",\n                \"name\": \"_companyAddress\",\n                \"type\": \"address\"\n            },\n            {\n                \"internalType\": \"string\",\n                \"name\": \"_role\",\n                \"type\": \"string\"\n            },\n            {\n                \"internalType\": \"string\",\n                \"name\": \"_hashDetails\",\n                \"type\": \"string\"\n            }\n        ],\n        \"name\": \"createParticipant\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"_productCode\",\n                \"type\": \"uint256\"\n            },\n            {\n                \"internalType\": \"string\",\n                \"name\": \"_productName\",\n                \"type\": \"string\"\n            },\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"_price\",\n                \"type\": \"uint256\"\n            },\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"_unitStart\",\n                \"type\": \"uint256\"\n            },\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"_unitEnd\",\n                \"type\": \"uint256\"\n            },\n            {\n                \"internalType\": \"string\",\n                \"name\": \"_hashDetails\",\n                \"type\": \"string\"\n            }\n        ],\n        \"name\": \"createProduct\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"address\",\n                \"name\": \"\",\n                \"type\": \"address\"\n            }\n        ],\n        \"name\": \"participants\",\n        \"outputs\": [\n            {\n                \"internalType\": \"string\",\n                \"name\": \"companyName\",\n                \"type\": \"string\"\n            },\n            {\n                \"internalType\": \"address payable\",\n                \"name\": \"companyAddress\",\n                \"type\": \"address\"\n            },\n            {\n                \"internalType\": \"string\",\n                \"name\": \"role\",\n                \"type\": \"string\"\n            },\n            {\n                \"internalType\": \"string\",\n                \"name\": \"hashDetails\",\n                \"type\": \"string\"\n            },\n            {\n                \"internalType\": \"bool\",\n                \"name\": \"created\",\n                \"type\": \"bool\"\n            }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"name\": \"products\",\n        \"outputs\": [\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"productCode\",\n                \"type\": \"uint256\"\n            },\n            {\n                \"internalType\": \"string\",\n                \"name\": \"productName\",\n                \"type\": \"string\"\n            },\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"price\",\n                \"type\": \"uint256\"\n            },\n            {\n                \"internalType\": \"string\",\n                \"name\": \"hashDetails\",\n                \"type\": \"string\"\n            },\n            {\n                \"internalType\": \"address payable\",\n                \"name\": \"owner\",\n                \"type\": \"address\"\n            }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n    }\n]","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport Paper from '../Paper';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    overflow: 'hidden'\n  }\n};\nvar Card = /*#__PURE__*/React.forwardRef(function Card(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$raised = props.raised,\n      raised = _props$raised === void 0 ? false : _props$raised,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"raised\"]);\n\n  return /*#__PURE__*/React.createElement(Paper, _extends({\n    className: clsx(classes.root, className),\n    elevation: raised ? 8 : 1,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Card.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the card will use raised styling.\n   */\n  raised: PropTypes.bool\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCard'\n})(Card);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    padding: 16,\n    '&:last-child': {\n      paddingBottom: 24\n    }\n  }\n};\nvar CardContent = /*#__PURE__*/React.forwardRef(function CardContent(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"component\"]);\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardContent.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCardContent'\n})(CardContent);"],"sourceRoot":""}